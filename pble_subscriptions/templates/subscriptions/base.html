{% extends base_template %}

{% block sub_menu %}
    <ul class="pble-nav-sub-list">
        <li class="pble-nav-sub-item"><a href="{% url 'pble_subscriptions:categories' %}" class="pble-nav-sub-link">Categories</a></li>
        <li class="pble-nav-sub-item"><a href="{% url 'pble_subscriptions:tags' %}" class="pble-nav-sub-link">Tags</a></li>
        <li class="pble-nav-sub-item"><a href="{% url 'pble_subscriptions:peers' %}" class="pble-nav-sub-link">Peers</a></li>
    </ul>
{% endblock %}

{% block sidepanel %}
    <div class="pble-sidepanel">
        <div class="pble-widgets-side pble-widget-side-top">
            <div class="pble-widget-side pble-widget-side-top">
                <p>Interested in a specific type of content?<br>
                Subscribe or unsubscribe to the categories, tags or peers who pique your interest by clicking on them.</p>
            </div>
        </div>

        <div class="pble-sidebar">
            <form action="{% url 'pble_subscriptions:alter_subscription_settings' %}" method="post">
            {% csrf_token %}
                {% if error_message %}
                    <strong style="color: red;"> {{ error_message }}<br></strong>
                {% endif %}
                Change your notifications settings:<br><br>

                {% if answer_notifications %}
                <input type="checkbox" name="answer_check" value="answer_enabled" checked>Answer notifications<br>
                {% else %}
                <input type="checkbox" name="answer_check" value="answer_enabled">Answer notifications<br>
                {% endif %}

                {% if comment_notifications %}
                <input type="checkbox" name="comment_check" value="comment_enabled" checked>Comment notifications<br>
                {% else %}
                <input type="checkbox" name="comment_check" value="comment_enabled">Comment notifications<br>
                {% endif %}

                <!-- Grouped checkboxes for digest options -->
                <!-- TODO: autogenerate this and set correct element as checked -->
                <fieldset class="form-group">
                    <legend class="legend-label">Subscription Digest</legend>
                    <label class="radio-inline">
                        <input id="digest1" name="subscription_digest" value="NEVER" type="radio"> Never
                    </label>
                    <label class="radio-inline">
                        <input id="digest2" name="subscription_digest" value="DAILY" type="radio" checked> Daily
                    </label>
                    <label class="radio-inline">
                        <input id="digest3" name="subscription_digest" value="WEEKLY" type="radio" checked> Weekly
                    </label>
                </fieldset>

                <br><br>
                <input class="pble-form-wide-button pble-form-wide-button-setbonus" name="update_btn" value="Update settings" title="" type="submit">
            </form>
        </div>
    </div>
{% endblock %}